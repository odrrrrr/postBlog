let Router,uploadCtrl,multer,path;_f64‍.x([["default",()=>_f64‍.o]]);_f64‍.w("koa-router",[["default",["Router"],function(v){Router=v}]]);_f64‍.w("./upload.ctrl",[["*",null,function(v){uploadCtrl=v}]]);_f64‍.w("koa-multer",[["default",["multer"],function(v){multer=v}]]);_f64‍.w("path",[["default",["path"],function(v){path=v}]]);




let filed;
const uploadmulter = multer({
  storage: multer.diskStorage({
    destination: function (req, file, cb) {
      cb(null, 'uploads/');
    },
    filename: function (req, file, cb) {
      let mathRan = Math.random();
      cb(null, mathRan + path.extname(file.originalname));
      filed = mathRan + path.extname(file.originalname);
    },
  }),
});

const upload = new Router();
upload.post('/', uploadmulter.single('file'), (ctx, next) => {
  _f64‍.g.console.log('file', ctx.request.file);
  _f64‍.g.console.log('body', ctx.request.body);
  ctx.body = filed;
  //   const {
  //     fieldname,
  //     originalname,
  //     encoding,
  //     mimetype,
  //     destination,
  //     filename,
  //     path,
  //     size,
  //   } = ctx.request.file;
  //   const { name } = ctx.request.body;
  //   console.log('fieldname', fieldname);
  //   console.log('name', name);
});

_f64‍.d(upload);
